{"ast":null,"code":"var _jsxFileName = \"/Users/aadarshraj/Development/Shopping/frontend/src/screens/ProductScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Image, ListGroup, Button, Card, Form } from 'react-bootstrap';\nimport Rating from '../components/Rating';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { NumberFormat } from './NumberFormat';\nimport { listProductDetails, createProductReview } from '../actions/productActions'; // import products from '../products'\n// import axios from 'axios'\n\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ProductScreen({\n  match,\n  history\n}) {\n  _s();\n\n  const [qty, setQty] = useState(1);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  const dispatch = useDispatch();\n  const productDetails = useSelector(state => state.productDetails);\n  const {\n    loading,\n    error,\n    product\n  } = productDetails;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const productReviewCreate = useSelector(state => state.productReviewCreate);\n  const {\n    loading: loadingProductReview,\n    error: errorProductReview,\n    success: successProductReview\n  } = productReviewCreate;\n  useEffect(() => {\n    dispatch(listProductDetails(match.params.id));\n  }, [dispatch, match]);\n\n  const addToCartHandler = () => {\n    history.push(`/cart/${match.params.id}?qty=${qty}`);\n  };\n\n  const SubmitHandler = e => {\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"btn btn-light my-3\",\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error.toUpperCase()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: product.image,\n            alt: product.name,\n            fluid: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Rating, {\n                value: product.rating,\n                text: `${product.numReviews} reviews`,\n                color: '#f8e825'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Price:\", NumberFormat(product.price)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Description:\", product.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Price:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: NumberFormat(product.price)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 42\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: product.countInStock > 0 ? 'In Stock' : 'Out of Stock'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 29\n              }, this), product.countInStock > 0 && /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Qty\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    xs: \"auto\",\n                    className: \"my-1\",\n                    children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                      as: \"select\",\n                      value: qty,\n                      onChange: e => setQty(e.target.value),\n                      children: [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: x + 1,\n                        children: x + 1\n                      }, x + 1, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 57\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: addToCartHandler,\n                  className: \"btn-block\",\n                  type: \"button\",\n                  disabled: product.countInStock === 0,\n                  children: \"ADD TO CART\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"REVIEWS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 21\n          }, this), product.reviews.length === 0 && /*#__PURE__*/_jsxDEV(Message, {\n            variant: \"info\",\n            children: \"No reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 52\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [product.reviews.map(review => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: review.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Rating, {\n                value: review.rating,\n                color: \"#f8e825\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: review.createdAt.substring(0, 10)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: review.comment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this)]\n            }, review._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this)), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Write a review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 29\n              }, this), userInfo ? /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: SubmitHandler,\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"rating\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Rating\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"select\",\n                    value: rating,\n                    onChange: e => setRating(e.target.value),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"1\",\n                      children: \"1 - Poor\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 172,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"2\",\n                      children: \"2 - Fair\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"3\",\n                      children: \"3 - Good\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"4\",\n                      children: \"4 - Very Good\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"5\",\n                      children: \"5 - Excellent\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"comment\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Review\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"textarea\",\n                    row: \"5\",\n                    value: comment,\n                    onChange: e => setComment(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    disabled: loadingProductReview,\n                    type: \"submit\",\n                    variant: \"primary\",\n                    style: {\n                      color: 'red'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 33\n              }, this) : /*#__PURE__*/_jsxDEV(Message, {\n                variant: \"info\",\n                children: [\"Please \", /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/login\",\n                  children: \"login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 64\n                }, this), \" to write a review\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProductScreen, \"zzVPyU7q8UUCpt1b+9oIUK4Cb68=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = ProductScreen;\nexport default ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"sources":["/Users/aadarshraj/Development/Shopping/frontend/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Link","Row","Col","Image","ListGroup","Button","Card","Form","Rating","Loader","Message","NumberFormat","listProductDetails","createProductReview","PRODUCT_CREATE_REVIEW_RESET","ProductScreen","match","history","qty","setQty","rating","setRating","comment","setComment","dispatch","productDetails","state","loading","error","product","userLogin","userInfo","productReviewCreate","loadingProductReview","errorProductReview","success","successProductReview","params","id","addToCartHandler","push","SubmitHandler","e","preventDefault","toUpperCase","image","name","numReviews","price","description","countInStock","target","value","Array","keys","map","x","reviews","length","review","createdAt","substring","_id","color"],"mappings":"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","sourcesContent":["import React,{ useState,useEffect } from 'react'\nimport { useDispatch,useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { Row,Col,Image,ListGroup,Button,Card, Form} from 'react-bootstrap'\nimport Rating from '../components/Rating'\n\nimport  Loader  from '../components/Loader'\nimport  Message  from '../components/Message'\nimport { NumberFormat } from './NumberFormat';\n\n\n\n\n\n\nimport { listProductDetails,createProductReview } from '../actions/productActions'\n// import products from '../products'\n// import axios from 'axios'\n\nimport { PRODUCT_CREATE_REVIEW_RESET} from '../constants/productConstants';\n\n\n\n\nfunction ProductScreen({ match,history }) {\n    const [qty,setQty]=useState(1)\n    const [rating,setRating]=useState(0)\n    const [comment,setComment]=useState('')\n\n\n\n    const dispatch=useDispatch()\n\n    const productDetails=useSelector(state=>state.productDetails)\n    const {loading,error,product} = productDetails\n\n    const userLogin=useSelector(state=>state.userLogin)\n    const {userInfo} = userLogin\n\n    const productReviewCreate=useSelector(state=>state.productReviewCreate)\n    const {loading:loadingProductReview,error:errorProductReview,success:successProductReview} = productReviewCreate\n\n\n    useEffect(() => {\n        dispatch(listProductDetails(match.params.id))\n                \n    }, [dispatch,match])\n\n    const addToCartHandler = () =>{\n        history.push(`/cart/${match.params.id}?qty=${qty}`)\n    }\n\n    const SubmitHandler =(e)=>{\n        e.preventDefault()\n    }\n\n    return (\n        <div>\n            \n            <Link to='/' className='btn btn-light my-3'>Go Back</Link>\n            {\n                loading?\n                <Loader />\n                :error\n                ? <Message variant='danger'>{error.toUpperCase()}</Message>\n                :(\n                    <div>\n                    <Row>\n                <Col md={6}>\n                    <Image src={product.image} alt={product.name} fluid/>\n                </Col>\n                <Col md={3}>\n                    <ListGroup variant=\"flush\">\n                        <ListGroup.Item>\n                            <h3>\n                                {product.name}\n                            </h3>\n                        </ListGroup.Item>\n                        <ListGroup.Item>\n                                <Rating value={product.rating} text={`${product.numReviews} reviews`} color={'#f8e825'}/>\n                        </ListGroup.Item>\n                        <ListGroup.Item>\n                            Price:{NumberFormat(product.price)}\n                        </ListGroup.Item>\n                        <ListGroup.Item>\n                                Description:{product.description}\n                        </ListGroup.Item>\n                    </ListGroup>\n                </Col>\n                <Col md={3}>\n                    <Card>\n                        <ListGroup variant=\"flush\">\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>\n                                    Price:\n                                    </Col>\n                                    <Col><strong>{NumberFormat(product.price)}</strong></Col>\n                                </Row>\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>\n                                    Status:\n                                    </Col>\n                                    <Col>\n                                        {product.countInStock>0?'In Stock':'Out of Stock'}\n                                    </Col>\n                                </Row>\n                            </ListGroup.Item>\n                            {product.countInStock>0 && (\n                                <ListGroup.Item>\n                                    <Row>\n                                        <Col>Qty</Col>\n                                        <Col xs='auto' className='my-1'>\n                                            <Form.Control\n                                                as=\"select\"\n                                                value={qty}\n                                                onChange={(e)=>setQty(e.target.value)}\n                                            \n                                            >\n                                                {\n                                                    [...Array(product.countInStock).keys()].map((x)=>(\n                                                        <option key={x+1} value={x+1}>\n                                                            {x+1}\n\n                                                        </option>\n                                                    ))\n                                                }\n\n                                            </Form.Control>\n                                        </Col>\n\n                                    </Row>\n                                </ListGroup.Item>\n                            )}\n                            <ListGroup.Item>\n                                <Button onClick={addToCartHandler}\n                                className='btn-block' type='button' disabled={product.countInStock===0}>ADD TO CART</Button>\n                            </ListGroup.Item>\n                        </ListGroup>\n                    </Card>\n                </Col>\n            </Row>\n            <Row>\n                <Col md={6}>\n                    <h4>REVIEWS</h4>\n                    {product.reviews.length===0 && <Message variant='info'>No reviews</Message>}\n                    <ListGroup variant='flush'>\n                        {product.reviews.map((review)=>(\n                            <ListGroup.Item key={review._id}>\n                                <strong>{review.name}</strong>\n                                <Rating value={review.rating} color='#f8e825' />\n                                <p>{review.createdAt.substring(0,10)}</p>\n                                <p>{review.comment}</p>\n\n                            </ListGroup.Item>\n                        ))}\n                        <ListGroup.Item>\n                            <h4>Write a review</h4>\n                            {userInfo?(\n                                <Form onSubmit={SubmitHandler}>\n                                    <Form.Group controlId='rating'>\n                                        <Form.Label>Rating</Form.Label>\n                                        <Form.Control\n                                            as=\"select\"\n                                            value={rating}\n                                            onChange={(e)=>setRating(e.target.value)}\n                                        >\n                                            <option value=\"\">Select...</option>\n                                            <option value=\"1\">1 - Poor</option>\n                                            <option value=\"2\">2 - Fair</option>\n                                            <option value=\"3\">3 - Good</option>\n                                            <option value=\"4\">4 - Very Good</option>\n                                            <option value=\"5\">5 - Excellent</option>\n\n\n\n                                        </Form.Control>\n\n                                    </Form.Group>\n                                    <Form.Group controlId='comment'>\n                                        <Form.Label>Review</Form.Label>\n                                        <Form.Control \n                                            as='textarea'\n                                            row='5'\n                                            value={comment}\n                                            onChange={(e)=>setComment(e.target.value)}\n                                        >\n\n                                        </Form.Control>\n                                        <Button\n                                            disabled={loadingProductReview}\n                                            type='submit'\n                                            variant='primary'\n                                            style={{color: 'red'}}\n                                        >\n\n                                        </Button>\n                                    </Form.Group>\n\n                                </Form>\n\n                            ):(\n                                <Message variant='info'>Please <Link to='/login'>login</Link> to write a review</Message>\n                            )}\n\n                        </ListGroup.Item>\n\n                    </ListGroup>\n                </Col>\n            </Row>\n            </div>\n                )\n            }\n            \n        </div>\n    )\n}\n\nexport default ProductScreen\n"]},"metadata":{},"sourceType":"module"}